{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "selc-onboarding",
    "description" : "Self Care OnBoarding API documentation",
    "contact" : {
      "name" : "PagoPA",
      "url" : "https://www.pagopa.gov.it"
    },
    "version" : "0.1.0-SNAPSHOT"
  },
  "servers" : [ {
    "url" : "{url}:{port}{basePath}",
    "variables" : {
      "url" : {
        "default" : "http:localhost"
      },
      "port" : {
        "default" : "80"
      },
      "basePath" : {
        "default" : ""
      }
    }
  } ],
  "tags" : [ {
    "name" : "institutions",
    "description" : "Institution operations"
  }, {
    "name" : "product",
    "description" : "Product operations"
  }, {
    "name" : "user"
  } ],
  "paths" : {
    "/v2/tokens/{onboardingId}/verify" : {
      "post" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Verify if the token is already consumed",
        "description" : "Verify if the token is already consumed",
        "operationId" : "verifyOnboardingUsingPOST",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/OnboardingVerify"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/reject" : {
      "post" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to reject a specific onboarding request",
        "description" : "Service to reject a specific onboarding request",
        "operationId" : "rejectOnboardingUsingPOST",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ReasonForRejectDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/complete" : {
      "post" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Complete an onboarding request",
        "description" : "Complete an onboarding request",
        "operationId" : "completeUsingPOST",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "required" : [ "contract" ],
                "type" : "object",
                "properties" : {
                  "contract" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                }
              }
            }
          }
        },
        "responses" : {
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      },
      "delete" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Complete an onboarding request",
        "description" : "Complete an onboarding request",
        "operationId" : "deleteUsingDELETE",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/complete-onboarding-users" : {
      "post" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Complete an onboarding users request",
        "description" : "Complete an onboarding users request",
        "operationId" : "completeOnboardingUsersUsingPOST",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "required" : [ "contract" ],
                "type" : "object",
                "properties" : {
                  "contract" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                }
              }
            }
          }
        },
        "responses" : {
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/approve" : {
      "post" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to approve a specific onboarding request",
        "description" : "Service to approve a specific onboarding request",
        "operationId" : "approveOnboardingUsingPOST",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/onboarding" : {
      "post" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows the onboarding of Users to a subunit of an Institution",
        "description" : "The service allows the onboarding of Users to a subunit of an Institution",
        "operationId" : "institutionOnboarding",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/OnboardingProductDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/onboarding/users/pg" : {
      "post" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows the onboarding of Users to a PG Institution",
        "description" : "The service allows the onboarding of Users to a PG Institution",
        "operationId" : "onboardingUsersPgUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CompanyOnboardingUserDto"
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/onboarding/aggregation/verification" : {
      "post" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows to verify if the given csv contains valid aggregate institutions",
        "description" : "The service allows to verify if the given csv contains valid aggregate institutions",
        "operationId" : "verifyAggregatesCsvUsingPOST",
        "parameters" : [ {
          "name" : "institutionType",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "required" : [ "aggregates" ],
                "type" : "object",
                "properties" : {
                  "aggregates" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                }
              }
            }
          }
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/VerifyAggregatesResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/company/verify-manager" : {
      "post" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows to verify the legal representative on external registries and retrieve the company name",
        "description" : "The service allows to verify the legal representative on external registries and retrieve the company name",
        "operationId" : "verifyManagerUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/VerifyManagerRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/VerifyManagerResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/company/onboarding" : {
      "post" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows the onboarding of Users to a subunit of an Institution",
        "description" : "The service allows the onboarding of Users to a subunit of an Institution",
        "operationId" : "institutionOnboardingCompany",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CompanyOnboardingDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/validate" : {
      "post" : {
        "tags" : [ "user-controller" ],
        "summary" : "Check if requested user data are valid",
        "description" : "Check if requested user data are valid",
        "operationId" : "validateUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UserDataValidationDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "409" : {
            "description" : "Conflict",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/search-user" : {
      "post" : {
        "tags" : [ "user-controller" ],
        "summary" : "Returns uuid of specific user from PDV",
        "description" : "Returns uuid of specific user from PDV",
        "operationId" : "searchUserId",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/UserTaxCodeDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/UserId"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/onboarding" : {
      "post" : {
        "tags" : [ "user-controller" ],
        "summary" : "The service allows the onboarding of Users",
        "description" : "The service allows the onboarding of Users",
        "operationId" : "onboardingUsers",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/OnboardingUserDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/onboarding/aggregator" : {
      "post" : {
        "tags" : [ "user-controller" ],
        "summary" : "The service allows the onboarding of Users for aggregators",
        "description" : "The service allows the onboarding of Users for aggregators",
        "operationId" : "onboardingAggregatorUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/OnboardingUserDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/check-manager" : {
      "post" : {
        "tags" : [ "user-controller" ],
        "summary" : "Returns true if current manager and previous one are the same",
        "description" : "Returns true if current manager and previous one are the same",
        "operationId" : "checkManager",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CheckManagerDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CheckManagerResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/verification/match" : {
      "post" : {
        "tags" : [ "institution-controller" ],
        "summary" : "MatchLegal Representative and inserted Institution by querying on Agenzia delle Entrate",
        "description" : "MatchLegal Representative and inserted Institution by querying on Agenzia delle Entrate",
        "operationId" : "postVerificationMatchUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/VerificationMatchRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/MatchInfoResultResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/verification/legal-address" : {
      "post" : {
        "tags" : [ "institution-controller" ],
        "summary" : "Get legal address by business tax id",
        "description" : "Get legal address by business tax id",
        "operationId" : "postVerificationLegalAddressUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/VerificationLegalAddressRequest"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstitutionLegalAddressResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/onboarding" : {
      "post" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service allows the onboarding of Users to a subunit of an Institution",
        "description" : "The service allows the onboarding of Users to a subunit of an Institution",
        "operationId" : "onboardingUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/OnboardingProductDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      },
      "head" : {
        "tags" : [ "institution-controller" ],
        "summary" : "Checks if the specified institution has been onboarded on the specified product.",
        "description" : "Checks if the specified institution has been onboarded on the specified product.",
        "operationId" : "verifyOnboardingUsingHEAD",
        "parameters" : [ {
          "name" : "taxCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "subunitCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "origin",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "originId",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "vatNumber",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "verifyType",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "INTERNAL", "EXTERNAL" ]
          }
        } ],
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/company/onboarding" : {
      "post" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service allows the onboarding of Users to a subunit of an Institution",
        "description" : "The service allows the onboarding of Users to a subunit of an Institution",
        "operationId" : "onboardingCompanyUsingPOST",
        "requestBody" : {
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/CompanyOnboardingDto"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "201" : {
            "description" : "Created"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/{externalInstitutionId}/products/{productId}" : {
      "head" : {
        "tags" : [ "institution-controller" ],
        "summary" : "Checks if the specified institution has been onboarded on the specified product.",
        "description" : "Checks if the specified institution has been onboarded on the specified product.",
        "operationId" : "verifyOnboardingProductUsingHEAD",
        "parameters" : [ {
          "name" : "externalInstitutionId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "204" : {
            "description" : "No Content"
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}" : {
      "get" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to retrieve a specific onboarding request",
        "description" : "Service to retrieve a specific onboarding request",
        "operationId" : "retrieveOnboardingRequestUsingGET",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/OnboardingRequestResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/products/{productId}/aggregates-csv" : {
      "get" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to download a specific onboarding aggregates csv",
        "description" : "Service to download a specific onboarding aggregates csv",
        "operationId" : "getAggregatesCsvUsingGET",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/octet-stream" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string",
                    "format" : "byte"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/contract" : {
      "get" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to download a specific onboarding contract",
        "description" : "Service to download a specific onboarding contract",
        "operationId" : "getContractUsingGET",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/octet-stream" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string",
                    "format" : "byte"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/tokens/{onboardingId}/attachment" : {
      "get" : {
        "tags" : [ "token-v-2-controller" ],
        "summary" : "Service to download a specific onboarding attachment",
        "description" : "Service to download a specific onboarding attachment",
        "operationId" : "getAttachmentUsingGET",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "name",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/octet-stream" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string",
                    "format" : "byte"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions" : {
      "get" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows the onboarding of Users to a subunit of an Institution",
        "description" : "The service allows the onboarding of Users to a subunit of an Institution",
        "operationId" : "v2GetInstitutionByFilters",
        "parameters" : [ {
          "name" : "productId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "taxCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "origin",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "originId",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "subunitCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/InstitutionResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/onboarding/recipient-code/verification" : {
      "get" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service allows to verify if recipientCode is valid or not",
        "description" : "The service allows to verify if recipientCode is valid or not",
        "operationId" : "checkRecipientCodeUsingGET",
        "parameters" : [ {
          "name" : "originId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "recipientCode",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string",
                  "enum" : [ "ACCEPTED", "DENIED_NO_BILLING", "DENIED_NO_ASSOCIATION" ]
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v2/institutions/onboarding/active" : {
      "get" : {
        "tags" : [ "institution-v-2-controller" ],
        "summary" : "The service retrieves the active onboarding information for a given tax code and product ID",
        "description" : "The service retrieves the active onboarding information for a given tax code and product ID",
        "operationId" : "getActiveOnboardingUsingGET",
        "parameters" : [ {
          "name" : "taxCode",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "subunitCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/InstitutionOnboardingResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/users/onboarding/{onboardingId}/manager" : {
      "get" : {
        "tags" : [ "user-controller" ],
        "summary" : "Returns true if current manager and previous one are the same",
        "description" : "Returns true if current manager and previous one are the same",
        "operationId" : "getManagerInfo",
        "parameters" : [ {
          "name" : "onboardingId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "403" : {
            "description" : "Forbidden",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Problem"
                }
              }
            }
          },
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ManagerInfoResponse"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/products" : {
      "get" : {
        "tags" : [ "product-controller" ],
        "summary" : "The service retrieves all products",
        "description" : "The service retrieves all products",
        "operationId" : "getProducts",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/ProductResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/products/admin" : {
      "get" : {
        "tags" : [ "product-controller" ],
        "summary" : "The service retrieves all products for the addition administration functionality",
        "description" : "The service retrieves all products for the addition administration functionality",
        "operationId" : "getProductsAdmin",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/ProductResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/product/{id}" : {
      "get" : {
        "tags" : [ "product-controller" ],
        "summary" : "The service retrieves the product given its internal id",
        "description" : "The service retrieves the product given its internal id",
        "operationId" : "getProductUsingGET",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "institutionType",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ProductResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service retrieves all the onboarded institutions related to the logged user and product's identifier.  ",
        "description" : "The service retrieves all the onboarded institutions related to the logged user and product's identifier.  ",
        "operationId" : "getInstitutionsUsingGET",
        "parameters" : [ {
          "name" : "productId",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/InstitutionResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/{externalInstitutionId}/products/{productId}/onboarded-institution-info" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service retrieves the institutions Manager and institution informations",
        "description" : "The service retrieves the institutions Manager and institution informations",
        "operationId" : "getInstitutionOnboardingInfoUsingGET_1",
        "parameters" : [ {
          "name" : "externalInstitutionId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstitutionOnboardingInfoResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "deprecated" : true,
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/{externalInstitutionId}/geographicTaxonomy" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service retrieve the institution's geographic taxonomy",
        "description" : "The service retrieve the institution's geographic taxonomy",
        "operationId" : "getInstitutionGeographicTaxonomyUsingGET",
        "parameters" : [ {
          "name" : "externalInstitutionId",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/GeographicTaxonomyResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/onboarding/" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service retrieves the institutions Manager and institution informations",
        "description" : "The service retrieves the institutions Manager and institution informations",
        "operationId" : "getInstitutionOnboardingInfoUsingGET",
        "parameters" : [ {
          "name" : "institutionId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "productId",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstitutionOnboardingInfoResource"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/geographicTaxonomies" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "The service retrieve the institution's geographic taxonomy",
        "description" : "The service retrieve the institution's geographic taxonomy",
        "operationId" : "getGeographicTaxonomiesByTaxCodeAndSubunitCodeUsingGET",
        "parameters" : [ {
          "name" : "taxCode",
          "in" : "query",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "subunitCode",
          "in" : "query",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/GeographicTaxonomyResource"
                  }
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    },
    "/v1/institutions/from-infocamere/" : {
      "get" : {
        "tags" : [ "institution-controller" ],
        "summary" : "Get Legal Representative's PN PG institution List",
        "description" : "Get Legal Representative's PN PG institution List",
        "operationId" : "getInstitutionsFromInfocamereUsingGET",
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/InstitutionResourceIC"
                }
              }
            }
          },
          "400" : {
            "description" : "Bad Request",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "401" : {
            "description" : "Unauthorized",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "404" : {
            "description" : "Not Found",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error",
            "content" : {
              "application/problem+json" : {
                "schema" : {
                  "type" : "object",
                  "description" : "Generic problem response"
                }
              }
            }
          }
        },
        "security" : [ {
          "bearerAuth" : [ "global" ]
        } ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "OnboardingVerify" : {
        "required" : [ "status" ],
        "type" : "object",
        "properties" : {
          "status" : {
            "type" : "string"
          },
          "productId" : {
            "type" : "string"
          },
          "expiringDate" : {
            "type" : "string",
            "format" : "date-time"
          }
        }
      },
      "ReasonForRejectDto" : {
        "type" : "object",
        "properties" : {
          "reason" : {
            "type" : "string"
          }
        }
      },
      "AdditionalInformationsDto" : {
        "type" : "object",
        "properties" : {
          "belongRegulatedMarket" : {
            "type" : "boolean"
          },
          "regulatedMarketNote" : {
            "type" : "string"
          },
          "ipa" : {
            "type" : "boolean"
          },
          "ipaCode" : {
            "type" : "string"
          },
          "establishedByRegulatoryProvision" : {
            "type" : "boolean"
          },
          "establishedByRegulatoryProvisionNote" : {
            "type" : "string"
          },
          "agentOfPublicService" : {
            "type" : "boolean"
          },
          "agentOfPublicServiceNote" : {
            "type" : "string"
          },
          "otherNote" : {
            "type" : "string"
          }
        }
      },
      "AggregateInstitution" : {
        "required" : [ "description", "taxCode" ],
        "type" : "object",
        "properties" : {
          "taxCode" : {
            "type" : "string"
          },
          "description" : {
            "type" : "string"
          },
          "subunitCode" : {
            "type" : "string"
          },
          "subunitType" : {
            "type" : "string"
          },
          "geographicTaxonomies" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/GeographicTaxonomyDto"
            }
          },
          "address" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "origin" : {
            "type" : "string",
            "enum" : [ "MOCK", "IPA", "SELC", "ANAC", "UNKNOWN", "ADE", "INFOCAMERE", "IVASS", "PDND_INFOCAMERE" ]
          },
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/UserDto"
            }
          },
          "iban" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "vatNumber" : {
            "type" : "string"
          },
          "digitalAddress" : {
            "type" : "string"
          },
          "city" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "parentDescription" : {
            "type" : "string"
          }
        }
      },
      "AssistanceContactsDto" : {
        "type" : "object",
        "properties" : {
          "supportEmail" : {
            "type" : "string"
          },
          "supportPhone" : {
            "type" : "string"
          }
        }
      },
      "BillingDataDto" : {
        "required" : [ "businessName", "digitalAddress", "registeredOffice" ],
        "type" : "object",
        "properties" : {
          "businessName" : {
            "type" : "string"
          },
          "registeredOffice" : {
            "type" : "string"
          },
          "digitalAddress" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "taxCodeInvoicing" : {
            "type" : "string"
          },
          "vatNumber" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "publicServices" : {
            "type" : "boolean"
          },
          "certified" : {
            "type" : "boolean"
          }
        }
      },
      "CompanyInformationsDto" : {
        "type" : "object",
        "properties" : {
          "rea" : {
            "type" : "string"
          },
          "shareCapital" : {
            "type" : "string"
          },
          "businessRegisterPlace" : {
            "type" : "string"
          }
        }
      },
      "DpoDataDto" : {
        "required" : [ "address", "email", "pec" ],
        "type" : "object",
        "properties" : {
          "address" : {
            "type" : "string"
          },
          "pec" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          }
        }
      },
      "GPUData" : {
        "type" : "object",
        "properties" : {
          "businessRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterName" : {
            "type" : "string"
          },
          "longTermPayments" : {
            "type" : "boolean"
          },
          "manager" : {
            "type" : "boolean"
          },
          "managerAuthorized" : {
            "type" : "boolean"
          },
          "managerEligible" : {
            "type" : "boolean"
          },
          "managerProsecution" : {
            "type" : "boolean"
          },
          "institutionCourtMeasures" : {
            "type" : "boolean"
          }
        }
      },
      "GeographicTaxonomyDto" : {
        "required" : [ "code", "desc" ],
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "string"
          },
          "desc" : {
            "type" : "string"
          }
        }
      },
      "InstitutionLocationDataDto" : {
        "type" : "object",
        "properties" : {
          "city" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "country" : {
            "type" : "string"
          }
        }
      },
      "OnboardingProductDto" : {
        "required" : [ "institutionType", "productId", "users" ],
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/UserDto"
            }
          },
          "billingData" : {
            "$ref" : "#/components/schemas/BillingDataDto"
          },
          "institutionLocationData" : {
            "$ref" : "#/components/schemas/InstitutionLocationDataDto"
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "origin" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "pricingPlan" : {
            "type" : "string"
          },
          "pspData" : {
            "$ref" : "#/components/schemas/PspDataDto"
          },
          "geographicTaxonomies" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/GeographicTaxonomyDto"
            }
          },
          "companyInformations" : {
            "$ref" : "#/components/schemas/CompanyInformationsDto"
          },
          "assistanceContacts" : {
            "$ref" : "#/components/schemas/AssistanceContactsDto"
          },
          "productId" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "subunitCode" : {
            "type" : "string"
          },
          "subunitType" : {
            "type" : "string"
          },
          "additionalInformations" : {
            "$ref" : "#/components/schemas/AdditionalInformationsDto"
          },
          "isAggregator" : {
            "type" : "boolean"
          },
          "aggregates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/AggregateInstitution"
            }
          },
          "gpuData" : {
            "$ref" : "#/components/schemas/GPUData"
          },
          "istatCode" : {
            "type" : "string"
          }
        }
      },
      "PspDataDto" : {
        "required" : [ "abiCode", "businessRegisterNumber", "dpoData", "legalRegisterName", "legalRegisterNumber", "vatNumberGroup" ],
        "type" : "object",
        "properties" : {
          "businessRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterName" : {
            "type" : "string"
          },
          "legalRegisterNumber" : {
            "type" : "string"
          },
          "abiCode" : {
            "type" : "string"
          },
          "vatNumberGroup" : {
            "type" : "boolean"
          },
          "dpoData" : {
            "$ref" : "#/components/schemas/DpoDataDto"
          }
        }
      },
      "UserDto" : {
        "required" : [ "name", "role", "surname", "taxCode" ],
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "role" : {
            "type" : "string",
            "enum" : [ "MANAGER", "DELEGATE", "SUB_DELEGATE", "OPERATOR", "ADMIN_EA" ]
          },
          "email" : {
            "type" : "string"
          },
          "productRole" : {
            "type" : "string"
          }
        }
      },
      "InvalidParam" : {
        "required" : [ "name", "reason" ],
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "reason" : {
            "type" : "string"
          }
        }
      },
      "Problem" : {
        "type" : "object",
        "description" : "Generic problem response"
      },
      "CompanyOnboardingUserDto" : {
        "required" : [ "certified", "institutionType", "productId", "taxCode", "users" ],
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/CompanyUserDto"
            }
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "productId" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "certified" : {
            "type" : "boolean"
          }
        }
      },
      "CompanyUserDto" : {
        "required" : [ "name", "role", "surname", "taxCode" ],
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "role" : {
            "type" : "string",
            "enum" : [ "MANAGER", "DELEGATE", "SUB_DELEGATE", "OPERATOR", "ADMIN_EA" ]
          },
          "productRole" : {
            "type" : "string"
          }
        }
      },
      "AggregateResult" : {
        "type" : "object",
        "properties" : {
          "subunitCode" : {
            "type" : "string"
          },
          "subunitType" : {
            "type" : "string"
          },
          "description" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "digitalAddress" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "vatNumber" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "city" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "origin" : {
            "type" : "string"
          },
          "iban" : {
            "type" : "string"
          },
          "parentDescription" : {
            "type" : "string"
          },
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/AggregateUserResult"
            }
          }
        }
      },
      "AggregateUserResult" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "role" : {
            "type" : "string"
          }
        }
      },
      "RowErrorResponse" : {
        "type" : "object",
        "properties" : {
          "riga" : {
            "type" : "integer",
            "format" : "int32"
          },
          "codice fiscale" : {
            "type" : "string"
          },
          "errore" : {
            "type" : "string"
          }
        }
      },
      "VerifyAggregatesResponse" : {
        "type" : "object",
        "properties" : {
          "aggregates" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/AggregateResult"
            }
          },
          "errors" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/RowErrorResponse"
            }
          }
        }
      },
      "VerifyManagerRequest" : {
        "required" : [ "companyTaxCode" ],
        "type" : "object",
        "properties" : {
          "companyTaxCode" : {
            "type" : "string"
          }
        }
      },
      "VerifyManagerResponse" : {
        "type" : "object",
        "properties" : {
          "origin" : {
            "type" : "string"
          },
          "companyName" : {
            "type" : "string"
          }
        }
      },
      "CompanyBillingDataDto" : {
        "required" : [ "businessName", "certified", "digitalAddress", "taxCode" ],
        "type" : "object",
        "properties" : {
          "businessName" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "certified" : {
            "type" : "boolean"
          },
          "digitalAddress" : {
            "type" : "string"
          }
        }
      },
      "CompanyOnboardingDto" : {
        "required" : [ "billingData", "institutionType", "productId", "taxCode", "users" ],
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/CompanyUserDto"
            }
          },
          "billingData" : {
            "$ref" : "#/components/schemas/CompanyBillingDataDto"
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "productId" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          }
        }
      },
      "UserDataValidationDto" : {
        "required" : [ "taxCode" ],
        "type" : "object",
        "properties" : {
          "taxCode" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          }
        }
      },
      "UserTaxCodeDto" : {
        "required" : [ "taxCode" ],
        "type" : "object",
        "properties" : {
          "taxCode" : {
            "type" : "string"
          }
        }
      },
      "UserId" : {
        "required" : [ "id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          }
        }
      },
      "OnboardingUserDto" : {
        "required" : [ "productId", "users" ],
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/UserDto"
            }
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "origin" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "productId" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "subunitCode" : {
            "type" : "string"
          }
        }
      },
      "CheckManagerDto" : {
        "required" : [ "productId", "userId" ],
        "type" : "object",
        "properties" : {
          "userId" : {
            "type" : "string",
            "format" : "uuid"
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "origin" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "productId" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "subunitCode" : {
            "type" : "string"
          }
        }
      },
      "CheckManagerResponse" : {
        "required" : [ "result" ],
        "type" : "object",
        "properties" : {
          "result" : {
            "type" : "boolean"
          }
        }
      },
      "VerificationMatchRequest" : {
        "required" : [ "taxCode", "userDto" ],
        "type" : "object",
        "properties" : {
          "taxCode" : {
            "type" : "string"
          },
          "userDto" : {
            "$ref" : "#/components/schemas/UserDto"
          }
        }
      },
      "MatchInfoResultResource" : {
        "type" : "object",
        "properties" : {
          "verificationResult" : {
            "type" : "boolean"
          }
        }
      },
      "VerificationLegalAddressRequest" : {
        "required" : [ "taxCode" ],
        "type" : "object",
        "properties" : {
          "taxCode" : {
            "type" : "string"
          }
        }
      },
      "InstitutionLegalAddressResource" : {
        "type" : "object",
        "properties" : {
          "address" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          }
        }
      },
      "AdditionalInformations" : {
        "type" : "object",
        "properties" : {
          "belongRegulatedMarket" : {
            "type" : "boolean"
          },
          "regulatedMarketNote" : {
            "type" : "string"
          },
          "ipa" : {
            "type" : "boolean"
          },
          "ipaCode" : {
            "type" : "string"
          },
          "establishedByRegulatoryProvision" : {
            "type" : "boolean"
          },
          "establishedByRegulatoryProvisionNote" : {
            "type" : "string"
          },
          "agentOfPublicService" : {
            "type" : "boolean"
          },
          "agentOfPublicServiceNote" : {
            "type" : "string"
          },
          "otherNote" : {
            "type" : "string"
          }
        }
      },
      "DpoData" : {
        "required" : [ "address", "email", "pec" ],
        "type" : "object",
        "properties" : {
          "address" : {
            "type" : "string"
          },
          "pec" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          }
        }
      },
      "InstitutionInfo" : {
        "required" : [ "address", "fiscalCode", "institutionType", "mailAddress", "name", "zipCode" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "institutionType" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "city" : {
            "type" : "string"
          },
          "country" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "mailAddress" : {
            "type" : "string"
          },
          "fiscalCode" : {
            "type" : "string"
          },
          "taxCodeInvoicing" : {
            "type" : "string"
          },
          "vatNumber" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "pspData" : {
            "$ref" : "#/components/schemas/PspData"
          },
          "dpoData" : {
            "$ref" : "#/components/schemas/DpoData"
          },
          "additionalInformations" : {
            "$ref" : "#/components/schemas/AdditionalInformations"
          }
        }
      },
      "OnboardingRequestResource" : {
        "required" : [ "institutionInfo", "status" ],
        "type" : "object",
        "properties" : {
          "status" : {
            "type" : "string"
          },
          "institutionInfo" : {
            "$ref" : "#/components/schemas/InstitutionInfo"
          },
          "manager" : {
            "$ref" : "#/components/schemas/UserInfo"
          },
          "admins" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/UserInfo"
            }
          },
          "productId" : {
            "type" : "string"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "expiringDate" : {
            "type" : "string",
            "format" : "date-time"
          },
          "reasonForReject" : {
            "type" : "string"
          },
          "attachments" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          }
        }
      },
      "PspData" : {
        "required" : [ "abiCode", "businessRegisterNumber", "legalRegisterName", "legalRegisterNumber", "vatNumberGroup" ],
        "type" : "object",
        "properties" : {
          "businessRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterName" : {
            "type" : "string"
          },
          "legalRegisterNumber" : {
            "type" : "string"
          },
          "abiCode" : {
            "type" : "string"
          },
          "vatNumberGroup" : {
            "type" : "boolean"
          }
        }
      },
      "UserInfo" : {
        "required" : [ "email", "fiscalCode", "id", "name", "surname" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "fiscalCode" : {
            "type" : "string"
          }
        }
      },
      "InstitutionResource" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "format" : "uuid"
          },
          "description" : {
            "type" : "string"
          },
          "parentDescription" : {
            "type" : "string"
          },
          "externalId" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "institutionType" : {
            "type" : "string"
          },
          "digitalAddress" : {
            "type" : "string"
          },
          "address" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "city" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "country" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "origin" : {
            "type" : "string"
          },
          "userRole" : {
            "type" : "string",
            "enum" : [ "ADMIN", "LIMITED", "ADMIN_EA" ]
          }
        }
      },
      "Billing" : {
        "type" : "object",
        "properties" : {
          "vatNumber" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "publicServices" : {
            "type" : "boolean"
          },
          "taxCodeInvoicing" : {
            "type" : "string"
          }
        }
      },
      "InstitutionOnboarding" : {
        "type" : "object",
        "properties" : {
          "productId" : {
            "type" : "string"
          },
          "tokenId" : {
            "type" : "string"
          },
          "status" : {
            "type" : "string"
          },
          "contract" : {
            "type" : "string"
          },
          "pricingPlan" : {
            "type" : "string"
          },
          "billing" : {
            "$ref" : "#/components/schemas/Billing"
          },
          "createdAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "updatedAt" : {
            "type" : "string",
            "format" : "date-time"
          },
          "closedAt" : {
            "type" : "string",
            "format" : "date-time"
          }
        }
      },
      "InstitutionOnboardingResource" : {
        "type" : "object",
        "properties" : {
          "institutionId" : {
            "type" : "string"
          },
          "businessName" : {
            "type" : "string"
          },
          "onboardings" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/InstitutionOnboarding"
            }
          }
        }
      },
      "ManagerInfoResponse" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "surname" : {
            "type" : "string"
          }
        }
      },
      "ProductResource" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "title" : {
            "type" : "string"
          },
          "parentId" : {
            "type" : "string"
          },
          "status" : {
            "type" : "string",
            "enum" : [ "ACTIVE", "TESTING", "PHASE_OUT", "INACTIVE" ]
          },
          "logo" : {
            "type" : "string"
          },
          "logoBgColor" : {
            "type" : "string"
          }
        }
      },
      "AssistanceContactsResource" : {
        "type" : "object",
        "properties" : {
          "supportEmail" : {
            "type" : "string"
          },
          "supportPhone" : {
            "type" : "string"
          }
        }
      },
      "BillingDataResponseDto" : {
        "type" : "object",
        "properties" : {
          "businessName" : {
            "type" : "string"
          },
          "registeredOffice" : {
            "type" : "string"
          },
          "digitalAddress" : {
            "type" : "string"
          },
          "zipCode" : {
            "type" : "string"
          },
          "taxCode" : {
            "type" : "string"
          },
          "vatNumber" : {
            "type" : "string"
          },
          "recipientCode" : {
            "type" : "string"
          },
          "publicServices" : {
            "type" : "boolean"
          },
          "certified" : {
            "type" : "boolean"
          }
        }
      },
      "CompanyInformationsResource" : {
        "type" : "object",
        "properties" : {
          "rea" : {
            "type" : "string"
          },
          "shareCapital" : {
            "type" : "string"
          },
          "businessRegisterPlace" : {
            "type" : "string"
          }
        }
      },
      "DataProtectionOfficer" : {
        "type" : "object",
        "properties" : {
          "address" : {
            "type" : "string"
          },
          "email" : {
            "type" : "string"
          },
          "pec" : {
            "type" : "string"
          }
        }
      },
      "GeographicTaxonomyResource" : {
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "string"
          },
          "desc" : {
            "type" : "string"
          }
        }
      },
      "InstitutionData" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "institutionType" : {
            "type" : "string",
            "enum" : [ "PA", "PG", "GSP", "SA", "PT", "SCP", "PSP", "AS", "REC", "CON", "PRV", "GPU" ]
          },
          "billingData" : {
            "$ref" : "#/components/schemas/BillingDataResponseDto"
          },
          "city" : {
            "type" : "string"
          },
          "county" : {
            "type" : "string"
          },
          "country" : {
            "type" : "string"
          },
          "origin" : {
            "type" : "string"
          },
          "originId" : {
            "type" : "string"
          },
          "paymentServiceProvider" : {
            "$ref" : "#/components/schemas/PaymentServiceProvider"
          },
          "dataProtectionOfficer" : {
            "$ref" : "#/components/schemas/DataProtectionOfficer"
          },
          "gpuData" : {
            "$ref" : "#/components/schemas/GPUData"
          },
          "companyInformations" : {
            "$ref" : "#/components/schemas/CompanyInformationsResource"
          },
          "assistanceContacts" : {
            "$ref" : "#/components/schemas/AssistanceContactsResource"
          }
        }
      },
      "InstitutionOnboardingInfoResource" : {
        "type" : "object",
        "properties" : {
          "institution" : {
            "$ref" : "#/components/schemas/InstitutionData"
          },
          "geographicTaxonomies" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/GeographicTaxonomyResource"
            }
          }
        }
      },
      "PaymentServiceProvider" : {
        "type" : "object",
        "properties" : {
          "businessRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterNumber" : {
            "type" : "string"
          },
          "legalRegisterName" : {
            "type" : "string"
          },
          "longTermPayments" : {
            "type" : "boolean"
          },
          "abiCode" : {
            "type" : "string"
          },
          "vatNumberGroup" : {
            "type" : "boolean"
          }
        }
      },
      "BusinessResourceIC" : {
        "type" : "object",
        "properties" : {
          "businessName" : {
            "type" : "string"
          },
          "businessTaxId" : {
            "type" : "string"
          }
        }
      },
      "InstitutionResourceIC" : {
        "type" : "object",
        "properties" : {
          "legalTaxId" : {
            "type" : "string"
          },
          "requestDateTime" : {
            "type" : "string"
          },
          "businesses" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/BusinessResourceIC"
            }
          }
        }
      }
    },
    "securitySchemes" : {
      "bearerAuth" : {
        "type" : "http",
        "description" : "A bearer token in the format of a JWS and conformed to the specifications included in [RFC8725](https://tools.ietf.org/html/RFC8725)",
        "scheme" : "bearer",
        "bearerFormat" : "JWT"
      }
    }
  }
}